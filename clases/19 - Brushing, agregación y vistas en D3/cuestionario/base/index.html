<!DOCTYPE html>
<html>
    
  <head>
    <meta charset="utf-8">
    <title>Cuestionario</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://d3js.org/d3-hexbin.v0.2.min.js"></script>
  </head>

  <body>
    
    <script>
      const width = 600;
      const height = 400;
      const margin = {
        top: 30,
        bottom: 30,
        right: 30,
        left: 30,
      };

      const distribucionX = () => 300 + 50 * d3.randomPareto(3)();
      const distribucionY = d3.randomNormal(50, 10);

      const datos = d3.range(5000).map(() => ({
        x: distribucionX(),
        y: distribucionY(),
      }));

      const escalaY = d3
        .scaleLinear()
        .domain([d3.min(datos, (d) => d.y) - 20, d3.max(datos, (d) => d.y) + 20])
        .range([height - margin.top - margin.bottom, 0]);

      const ejeY = d3.axisLeft(escalaY);

      const escalaX = d3
        .scaleLinear()
        .domain([d3.min(datos, (d) => d.x) - 100, d3.max(datos, (d) => d.x) + 100])
        .range([0, width - margin.right - margin.left]);

      const ejeX = d3.axisBottom(escalaX);

      const radioMaximo = 8;

      // Faltan cosas

      const escalaRadio = d3
        .scaleSqrt()
        .domain([0, 0]) // Esto se ve raro
        .range([0, radioMaximo]);


      const svg = d3
        .select("body")
        .append("svg")
        .attr("width", width)
        .attr("height", height);
      
      svg
        .append("g")
        .attr("transform", `translate(${margin.left}, ${margin.top})`)
        .call(ejeY);
      
      svg
        .append("g")
        .attr("transform", `translate(${margin.left}, ${height - margin.bottom})`)
        .call(ejeX);

      const contenedorPuntos = svg
        .append("g")
        .attr("transform", `translate(${margin.left} ${margin.top})`);

      // Sobran cosas
      contenedorPuntos
        .selectAll("circle")
        .data(datos)
        .join("circle")
        .attr("fill", "black")
        .attr("r", 2)
        .attr("cx", (d) => escalaX(d.x))
        .attr("cy", (d) => escalaY(d.y));

    </script>
  </body>
</html>